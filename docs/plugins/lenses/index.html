<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.150.1"><meta name=generator content="Relearn 8.0.0+9803d5122ebb3276acea823f476e9eb44f607862"><meta name=description content="Myriad can also generate lenses for records and single-case discriminated unions. Lens is a pair of a getter and a setter for one property of the type and allows, given the object, to get the value of the property or to update it creating a new object. The advantage of lenses is an ability to combine them to read or update nested fields of the object.
To create lenses for your type, first annotate the type for which you want lenses to be generated with Generator.Lenses attribute, note the â€œlensâ€ parameter specifies which configuration key is used with the plugin, this is used to specify which namespace is generated via the myriad.toml configuration file:"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Lenses :: Myriad"><meta name=twitter:description content="Myriad can also generate lenses for records and single-case discriminated unions. Lens is a pair of a getter and a setter for one property of the type and allows, given the object, to get the value of the property or to update it creating a new object. The advantage of lenses is an ability to combine them to read or update nested fields of the object.
To create lenses for your type, first annotate the type for which you want lenses to be generated with Generator.Lenses attribute, note the â€œlensâ€ parameter specifies which configuration key is used with the plugin, this is used to specify which namespace is generated via the myriad.toml configuration file:"><meta property="og:url" content="https://moiraesoftware.github.io/myriad/docs/plugins/lenses/index.html"><meta property="og:site_name" content="Myriad"><meta property="og:title" content="Lenses :: Myriad"><meta property="og:description" content="Myriad can also generate lenses for records and single-case discriminated unions. Lens is a pair of a getter and a setter for one property of the type and allows, given the object, to get the value of the property or to update it creating a new object. The advantage of lenses is an ability to combine them to read or update nested fields of the object.
To create lenses for your type, first annotate the type for which you want lenses to be generated with Generator.Lenses attribute, note the â€œlensâ€ parameter specifies which configuration key is used with the plugin, this is used to specify which namespace is generated via the myriad.toml configuration file:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="Docs"><meta itemprop=name content="Lenses :: Myriad"><meta itemprop=description content="Myriad can also generate lenses for records and single-case discriminated unions. Lens is a pair of a getter and a setter for one property of the type and allows, given the object, to get the value of the property or to update it creating a new object. The advantage of lenses is an ability to combine them to read or update nested fields of the object.
To create lenses for your type, first annotate the type for which you want lenses to be generated with Generator.Lenses attribute, note the â€œlensâ€ parameter specifies which configuration key is used with the plugin, this is used to specify which namespace is generated via the myriad.toml configuration file:"><meta itemprop=wordCount content="324"><title>Lenses :: Myriad</title><link href=/myriad/css/auto-complete/auto-complete.min.css?1758885481 rel=stylesheet><script src=/myriad/js/auto-complete/auto-complete.min.js?1758885481 defer></script><script src=/myriad/js/search-lunr.min.js?1758885481 defer></script><script src=/myriad/js/search.min.js?1758885481 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/myriad/searchindex.en.js?1758885481"</script><script src=/myriad/js/lunr/lunr.min.js?1758885481 defer></script><script src=/myriad/js/lunr/lunr.stemmer.support.min.js?1758885481 defer></script><script src=/myriad/js/lunr/lunr.multi.min.js?1758885481 defer></script><script src=/myriad/js/lunr/lunr.en.min.js?1758885481 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/myriad/fonts/fontawesome/css/fontawesome-all.min.css?1758885481 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/myriad/fonts/fontawesome/css/fontawesome-all.min.css?1758885481 rel=stylesheet></noscript><link href=/myriad/css/perfect-scrollbar/perfect-scrollbar.min.css?1758885481 rel=stylesheet><link href=/myriad/css/theme.min.css?1758885481 rel=stylesheet><link href=/myriad/css/format-html.min.css?1758885481 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/docs/plugins/lenses/index.html",window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://moiraesoftware.github.io/myriad",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!1,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["auto"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script></head><body class="mobile-support html" data-url=/myriad/docs/plugins/lenses/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/myriad/index.html><span itemprop=name>About Myriad</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/myriad/docs/index.html><span itemprop=name>Docs</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/myriad/docs/plugins/index.html><span itemprop=name>Plugins</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Lenses</span><meta itemprop=position content="4"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/myriad/docs/plugins/du-extensions/index.html title="Discriminated Unions (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/myriad/docs/external-resources/index.html title="External resources (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable docs" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=lenses>Lenses</h1><p>Myriad can also generate <a href=https://fsprojects.github.io/FSharpPlus/tutorial.html#Lens rel=external target=_blank>lenses</a> for records and single-case discriminated unions.
Lens is a pair of a getter and a setter for one property of the type and allows, given the object, to get the value of the property or to update it creating a new object. The advantage of lenses is an ability to combine them to read or update nested fields of the object.</p><p>To create lenses for your type, first annotate the type for which you want lenses to be generated with <code>Generator.Lenses</code> attribute, note the &ldquo;lens&rdquo; parameter specifies which configuration key is used with the plugin, this is used to specify which namespace is generated via the <code>myriad.toml</code> configuration file:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=display:flex><span><span style=color:#f92672>[&lt;</span>Generator.Lenses<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;lens&#34;</span><span style=color:#f92672>)&gt;]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Record</span> <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span> one<span style=color:#f92672>:</span> int
</span></span><span style=display:flex><span>      two<span style=color:#f92672>:</span> <span style=color:#66d9ef>string</span> <span style=color:#f92672>}</span></span></span></code></pre></div><p>Myriad will generate the following code:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=display:flex><span><span style=color:#66d9ef>module</span> RecordLenses <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> one <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>fun</span> <span style=color:#f92672>(</span>x<span style=color:#f92672>:</span> Test1<span style=color:#f92672>)</span> <span style=color:#f92672>-&gt;</span> x<span style=color:#f92672>.</span>one<span style=color:#f92672>),</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>fun</span> <span style=color:#f92672>(</span>x<span style=color:#f92672>:</span> Test1<span style=color:#f92672>)</span> <span style=color:#f92672>(</span>value<span style=color:#f92672>:</span> int<span style=color:#f92672>)</span> <span style=color:#f92672>-&gt;</span> <span style=color:#f92672>{</span> x <span style=color:#66d9ef>with</span> one <span style=color:#f92672>=</span> value <span style=color:#f92672>})</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> two <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>fun</span> <span style=color:#f92672>(</span>x<span style=color:#f92672>:</span> Test1<span style=color:#f92672>)</span> <span style=color:#f92672>-&gt;</span> x<span style=color:#f92672>.</span>two<span style=color:#f92672>),</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>fun</span> <span style=color:#f92672>(</span>x<span style=color:#f92672>:</span> Test1<span style=color:#f92672>)</span> <span style=color:#f92672>(</span>value<span style=color:#f92672>:</span> <span style=color:#66d9ef>string</span><span style=color:#f92672>)</span> <span style=color:#f92672>-&gt;</span> <span style=color:#f92672>{</span> x <span style=color:#66d9ef>with</span> two <span style=color:#f92672>=</span> value <span style=color:#f92672>})</span></span></span></code></pre></div><p>Often lenses are defined as a single-case union around a pair of getter and setter. Myriad is also capable of adding the invocation of such DU&rsquo;s constructor.</p><p>To achieve this, add the type <code>Lens</code> to the <code>Generator.Lenses</code> attribute, specifying the name of the DU constructor: <code>[&lt;Generator.Lenses("lens", "Lens")>]</code>, and Myriad will generate this code:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fsharp data-lang=fsharp><span style=display:flex><span><span style=color:#66d9ef>module</span> RecordLenses <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> one <span style=color:#f92672>=</span> Lens<span style=color:#f92672>((</span><span style=color:#66d9ef>fun</span> <span style=color:#f92672>(</span>x<span style=color:#f92672>:</span> Test1<span style=color:#f92672>)</span> <span style=color:#f92672>-&gt;</span> x<span style=color:#f92672>.</span>one<span style=color:#f92672>),</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>fun</span> <span style=color:#f92672>(</span>x<span style=color:#f92672>:</span> Test1<span style=color:#f92672>)</span> <span style=color:#f92672>(</span>value<span style=color:#f92672>:</span> int<span style=color:#f92672>)</span> <span style=color:#f92672>-&gt;</span> <span style=color:#f92672>{</span> x <span style=color:#66d9ef>with</span> one <span style=color:#f92672>=</span> value <span style=color:#f92672>}))</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> two <span style=color:#f92672>=</span> Lens<span style=color:#f92672>((</span><span style=color:#66d9ef>fun</span> <span style=color:#f92672>(</span>x<span style=color:#f92672>:</span> Test1<span style=color:#f92672>)</span> <span style=color:#f92672>-&gt;</span> x<span style=color:#f92672>.</span>two<span style=color:#f92672>),</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>fun</span> <span style=color:#f92672>(</span>x<span style=color:#f92672>:</span> Test1<span style=color:#f92672>)</span> <span style=color:#f92672>(</span>value<span style=color:#f92672>:</span> <span style=color:#66d9ef>string</span><span style=color:#f92672>)</span> <span style=color:#f92672>-&gt;</span> <span style=color:#f92672>{</span> x <span style=color:#66d9ef>with</span> two <span style=color:#f92672>=</span> value <span style=color:#f92672>}))</span></span></span></code></pre></div><p>You can provide the name of DU constructor in several ways:</p><ul><li>As a string: <code>[&lt;Generator.Lenses("lens", "Lens")>]</code>;</li><li>Or as a type: <code>[&lt;Generator.Lenses("lens", typedefof&lt;Lens&lt;_, _>>)>]</code> or <code>[&lt;Generator.Lenses("lens", typeof&lt;Lens&lt;_, _>>)>]</code>.</li></ul><p>If the <code>Lens</code> type is in different namespace/module than the type decorated with the attribute, provide the full name of the <code>Lens</code> constructor: <code>[&lt;Generator.Lenses("Namespace.And.Module.Of.Lens")>]</code>.</p><footer class=footline></footer></article></div></main></div><aside id=R-sidebar class=default-animation><div id=R-header-topbar class=default-animation></div><div id=R-header-wrapper class=default-animation><div id=R-header class=default-animation><h1>Myriad</h1></div><search><form action=/myriad/search/index.html method=get><div class="searchbox default-animation"><button class=search-detail type=submit title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
<label class=a11y-only for=R-search-by>Search</label>
<input data-search-input id=R-search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button></div></form></search></div><div id=R-homelinks class="default-animation homelinks"><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-homelinks"><ul class="space collapsible-menu"><li data-nav-id=/myriad/index.html><a class=padding href=/myriad/index.html><i class="fa-fw fas fa-home"></i> Home</a></li></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-headercontrols"><ul></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div></div><div id=R-content-wrapper class=highlightable><div class="R-sidebarmenu R-shortcutmenu-main"><ul class="enlarge morespace collapsible-menu"><li class=parent data-nav-id=/myriad/docs/index.html><a class=padding href=/myriad/docs/index.html><i class='fas fa-book'></i>Docs</a><ul id=R-subsections-b5fa667da3c6d162416dac7e8c63bf8a class=collapsible-menu><li class=alwaysopen data-nav-id=/myriad/docs/tutorials/index.html><a class=padding href=/myriad/docs/tutorials/index.html><b>1. </b>Tutorials</a><ul id=R-subsections-07180028894b25824d0806e8fa591d66 class=collapsible-menu></ul></li><li class="parent alwaysopen" data-nav-id=/myriad/docs/plugins/index.html><a class=padding href=/myriad/docs/plugins/index.html><b>2. </b>Plugins</a><ul id=R-subsections-dea9de507a10787df952a970ec9e8d7e class=collapsible-menu><li data-nav-id=/myriad/docs/plugins/record-fields/index.html><a class=padding href=/myriad/docs/plugins/record-fields/index.html><i class='fas fa-compact-disc'></i> Records</a></li><li data-nav-id=/myriad/docs/plugins/du-extensions/index.html><a class=padding href=/myriad/docs/plugins/du-extensions/index.html><i class='far fa-object-group'></i> Discriminated Unions</a></li><li class=active data-nav-id=/myriad/docs/plugins/lenses/index.html><a class=padding href=/myriad/docs/plugins/lenses/index.html><i class='fas fa-camera'></i> Lenses</a></li></ul></li><li data-nav-id=/myriad/docs/external-resources/index.html><a class=padding href=/myriad/docs/external-resources/index.html><i class='fas fa-cog'></i> External resources</a></li></ul></li><li data-nav-id=/myriad/blog/index.html><a class=padding href=/myriad/blog/index.html>News</a></li></ul></div><div class="R-sidebarmenu R-shortcutmenu-shortcuts"><div class="nav-title padding">More</div><ul class="space collapsible-menu"><li data-nav-id=/myriad/tags><a class=padding href=/myriad/tags><i class='fas fa-tags'></i> Tags</a></li><li data-nav-id=https://github.com/MoiraeSoftware/myriad><a class=padding href=https://github.com/MoiraeSoftware/myriad rel=external target=_blank><i class='fab fa-github'></i> GitHub</a></li></ul></div><div id=R-footer-margin></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-footercontrols"><ul></ul></div><div id=R-footer><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></aside><script src=/myriad/js/clipboard/clipboard.min.js?1758885481 defer></script><script src=/myriad/js/perfect-scrollbar/perfect-scrollbar.min.js?1758885481 defer></script><script src=/myriad/js/theme.min.js?1758885481 defer></script></body></html>